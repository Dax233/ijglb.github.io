<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>极光萝卜</title>
    <link rel="icon shortcut" type="image/ico" href="./image/avatar_128.png">
    <link rel="icon" sizes="128x128" href="./image/avatar_128.png">
    <link rel="apple-touch-icon" href="./image/avatar_128.png">
    <link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/mdui/0.4.2/css/mdui.min.css">
    <link rel="stylesheet" href="./index.css">
    <script src="https://cdnjs.loli.net/ajax/libs/mdui/0.4.2/js/mdui.min.js"></script>
    <script src="https://cdnjs.loli.net/ajax/libs/vue/2.5.22/vue.min.js"></script>
    <script src="./rap.1.2.4.min.js"></script>
</head>
<body class="mdui-theme-layout-dark mdui-bottom-nav-fixed">
    <div id="app">
        <section>
            <ul class="cb-slideshow" style="list-style-type: none;">
                <li><span>苟利</span></li>
                <li><span>国家</span></li>
                <li><span>生死以</span></li>
                <li><span>岂能</span></li>
                <li><span>祸福</span></li>
                <li><span>趋避之</span></li>
            </ul>
        </section>
        <div class="mdui-container">
            <component v-bind:is="childView" v-cloak>
            </component>
        </div>
        <div class="mdui-bottom-nav mdui-bottom-nav-scroll-hide">
            <a v-link.replace="'home'" :class="{ 'mdui-bottom-nav-active' : nav.home  }" class="mdui-ripple" mdui-tooltip="{content: '首页'}">
            <i class="mdui-icon material-icons">home</i>
            </a>
            <a v-link.replace="'acg'" :class="{ 'mdui-bottom-nav-active' : nav.acg  }" class="mdui-ripple" mdui-tooltip="{content: '我的ACG时光机'}">
            <i class="mdui-icon material-icons">favorite</i>
            </a>
            <a :class="{ 'mdui-bottom-nav-active' : nav.other  }" class="mdui-ripple" mdui-tooltip="{content: '页面制作中...'}">
            <i class="mdui-icon material-icons">location_on</i>
            </a>
        </div>
    </div>
</body>
<script src="./index.js"></script>
<script>
    $(document).ready(function () {
        Rap.config({
            debug: false,
            default_page: "home",
            app_version: '4',
        }).ready(function () {
            if (!Rap.debug) {
                //这里可以异步加载编译后的文件
                //return Rap.loadScript('rap-all.js');
            }
        }).then(function () {
            window.APP = Rap.app({
                el: '#app',
                data:{
                    nav :{
                        first : true,
                        home : true,
                        acg : false,
                        other : false
                    }
                },
                beforeUpdate:function(){
                    if(this.nav.first){
                        this.nav.home = this.nav.acg = this.nav.other =false;
                        var page = Rap.global_router.page;
                        switch(page){
                            case 'home':this.nav.home = true;
                            break;
                            case 'acg':this.nav.acg = true;
                            break;
                            case 'other':this.nav.other = true;
                            break;
                        }
                        this.nav.first = false;
                    }
                }
            });
        });
    });
</script>
</html>